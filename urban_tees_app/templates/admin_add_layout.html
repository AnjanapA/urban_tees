{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .bgclr {
            background-color: rgb(248, 170, 168);
        }
    </style>
</head>

<body>
    <form action="{% url 'admin_add_layout' %}" method="post" name="admin_layout" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="bgclr" width="50" height="auto">
            {% if item %}
            <h3 id="image">
                <img width="200" height="auto" id="preview">

            </h3>
            {% endif %}
        </div>
        <div class="row">
            <div class="col">

                <label for="">Product image</label>
            </div>
            <div class="col">

                <input type="file" name="file_name" id="file_name" value="choose file" onchange="show_image()">
                <img src="" alt="image_preview" id="image_preview" style="display: none;" width="200">
            </div>
            <!-- <div class="col">
                <button type="button">
                    preview

                </button>

            </div> -->
        </div>


        <div class="container">
            <div class="row">
                <div class="col">

                    <label for="">product title</label>
                </div>
                <div class="col">

                    <input type="text" name="product_title" value="">
                </div>
            </div>
            <div class="row">
                <div class="col">

                    <label for="">product description</label>
                </div>
                <div class="col">

                    <input type="text" name="product_description" value="">
                </div>
            </div>
            <div class="row">
                <div class="col">

                    <label for="">category</label>
                </div>
                <div class="col">

                    <select name="category" id="category">
                        <option value="mens">mens</option>
                        <option value="womens">womens</option>
                        <option value="girls">girls</option>
                        <option value="boys">boys</option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="col">

                    <label for="">price</label>
                </div>
                <div class="col">
                    <del>

                        <input type="text" name="old_price" value="">
                    </del>
                </div>
            </div>
            <div class="row" id="offer">
                <div class="col">

                    <label for="">offer</label>
                </div>
                <div class="col">

                    <input type="text" name="offer" value="">
                </div>
            </div>
            <div class="row" id="new_price">
                <div class="col">

                    <label for="">new Price</label>
                </div>
                <div class="col">

                    <input type="text" name="new_price" value="">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">

                <button type="submit">
                    add product
                </button>
            </div>
        </div>
        <div class="row">
            <h2 name="upload" onclick="upload()">
                {% if upload %}
                {{ upload }}
                {% endif %}
            </h2>
        </div>
    </form>
</body>
<!-- 
    <img id="preview" src="#" alt="Image Preview" style="display: none; max-width: 300px; margin-top: 10px;" />

    <button type="submit">Upload</button>
</form>
 -->
<script>
    document.getElementById('file_name').addEventListener('change', function (event) {

        const file = event.target.files[0];
        const preview = document.getElementById('image_preview');
        if (file) {
            const reader = new FileReader();

            reader.onload = function (e) {
                preview.setAttribute('src', e.target.result);
                preview.style.display = 'block';
            }
            reader.readAsDataURL(file);
        }
        else {
            preview.setAttribute('src', '#');
            preview.style.display = 'none';
        }

    });
    // function show_image(){
    //      const preview = document.getElementById('preview');

    //     const file = document.getElementById('file_name').files[0];
    //     if (file) {
    //         const reader = new FileReader();

    //        reader.onload = function(e) {
    //             preview.setAttribute('src', e.target.result);
    //             preview.style.display = 'block';
    //         }
    //         reader.readAsDataURL(file);
    //     }
    //          else {
    //         preview.setAttribute('src', '#');
    //         preview.style.display = 'none';
    //     }

    // }
    /* const fileInput = document.querySelector('input[type="file"]');
     const preview = document.getElementById('preview');
 
     fileInput.addEventListener('change', function() {
         const file = this.files[0];
         if (file) {
             const reader = new FileReader();
 
             reader.onload = function(e) {
                 preview.setAttribute('src', e.target.result);
                 preview.style.display = 'block';
             }
 
             reader.readAsDataURL(file);
         } else {
             preview.setAttribute('src', '#');
             preview.style.display = 'none';
         }
     });*/
</script>

</html>